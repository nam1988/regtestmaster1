<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide"
	xmlns:j2="null" xmlns:g2="null">
	<body>
		<nav class="navbar navbar-default" role="navigation">
	 				<div class="container-fluid">
						<div class="navbar-header">
							<h1 style="display:inline-block;" class="navbar-title">${gs.getMessage('National Vulnerability Database')}</h1>
						</div>
						<div class="nav navbar-right">
							<button class="btn btn-primary navbar-btn" id="refresh" ng-click="refreshNVDs()" ng-disabled="checkDisable()" >${gs.getMessage("Import")}</button>
						</div>
					</div>
		</nav>
		<table id="main_page" class="table table-hover">
   			<thead>
		       <tr>
		       		<th class="col-small">$[sp]</th>
		           <th>${gs.getMessage("Name")}</th>
		           <th>${gs.getMessage("Total entries")}</th>
		           <th>${gs.getMessage("Last refreshed")}</th>
		           <th>${gs.getMessage("Last import")}</th>
		           <th>${gs.getMessage("Status")}</th>
		       </tr>
  			</thead>
   			<tbody>
			       <tr ng-repeat="nvds in NVDRecords | orderBy:['display_name']:true" ng-class="getClass({{$index}})">
			           <td style="text-align: center;" class="col-control col-small col-center">
			           		<span class="input-group-checkbox">
			           				<input id="{{nvds.display_name}}" class="checkbox" type="checkbox"
										name="{{nvds.display_name}}" title="Check to import into NVD" ng-checked="nvds.active == '1'"
										value="{{nvds.url}}" ng-model="nvds.checked" ng-disabled="checkDisable()" />
									<label for="{{nvds.display_name}}" class="checkbox-label">
										<span class="sr-only">Select NVD record to download</span>
									</label>
							</span>
					   </td>
					   <td>
						   <div class="column-content">
							   <label for="{{nvds.display_name}}" class="checkbox-label">{{nvds.display_name}}</label>
						   </div>
						</td>
			           <td id="{{nvds.total_entries}}"  ng-model="nvds.total_entries">
						   <div class="column-content">
							   {{nvds.total_entries}}
						   </div>
					   </td>
			           <td id="{{nvds.last_refreshed}}"  ng-model="nvds.last_refreshed">
						   <div class="column-content">
							   {{nvds.last_refreshed}}
						   </div>
					   </td>
			           <td id="{{nvds.entries_imported}}"  ng-model="nvds.entries_imported">
						   <div class="column-content">
							   {{nvds.entries_imported}}
						   </div>
					   </td>
			           <td id="{{nvds.percent}}">
						   <div class="column-content">
							   <div class="progress" ng-if="nvds.percent !=0">
								   <div id="pg_{{nvds.display_name}}" class="progress-bar" role="progressbar"
										ng-style="{width: nvds.percent + '%'}" aria-valuemin="0" aria-valuenow="{{nvds.percent}}"
										aria-valuemax="100">
									   <span class="sr-only" ng-model="nvds.percent">{{nvds.percent}}%</span>
								   </div>
							   </div>
							   <span ng-show="nvds.percent == 0">{{nvds.state}}</span>
						   </div>
						</td>
			    	</tr>
   			</tbody>
		</table>
	</body>
</j:jelly>